


# 用户模块
用户模块包括用户授权、账号管理和后台用户管理相关功能
## 1. 登录  
----------------------
### 1.1 用户账号密码登录  
* 功能描述    
  确保用户输入正确的密码账号才能进行平台。
* 终端平台形式  
  PC端平台官网（https://cloud.easynm.cn/）
* 使用用户  
  个人阅片用户、平台管理人员、平台运营人员
* 需求描述   
  用户输入相匹配的账号密码能够进入平台。对于账号或密码有错误的，系统拒绝用户进入，同时反馈给登陆者错误提示。对于采用邮箱登录的用户动态推荐常用的邮箱账号（超过三次不能正确输入密码的，封锁用户账号，暂停登录功能）通过图形验证来阻止机器人恶意登录，在用户输入密码的时候系统默认是"不可视"，用户可以将其调整为可视。  

* 原型图
  
### 1.2 PC 端微信扫码登录  


* 功能描述    
用户在不输入账号密码的情况下，通过账号绑定的微信来扫描二维码实现登录。  
* 终端平台形式  
  PC端平台官网
* 面向用户  
  个人阅片用户
* 需求描述  
  用户通过账户绑定的微信账号来实现PC端的扫码登录。在用户账号没有绑定微信号的情况，用户扫码后，登录界面提示"该微信账号未绑定云阅片账号，请切换至账号密码登录页面进行登录"。用户通过手机微信扫码成功时，扫码登录页面提示"扫码成功，点击确认登录"。用户在手机微信页面点击确认后，页面跳转至登录成功后的主页面用户。在扫描成功后平台开始计时，并没有点击确认登录或者退出页面，超过规定时间则提示"登录失效"
  
* 原型图

### 1.3 手机端微信授权登录  
* 功能描述 通过已经在平台中留存的微信信息，在手机端用户点击微信授权登录到平台  
* 面向用户  
个人阅片用户

* 需求描述  
  在登录页面用户点击微信授权登录并且成功点击授权后云阅片APP跳转至用户主页面。当页面跳转至微信授权登录时，如果用户的微信APP还没有登录，需要先登录然后再进行授权登录云阅片。微信APP的账号并没有在云阅片平台上注册或绑定，平台在登录页面提示"该微信账号未注册"。在平台登录页面跳转至微信授权页面时，只要没有点击授权，平台不能显示成功并且不进行跳转。


### 1.4 医生工作站登录
* 功能描述  
  医生通过输入手机账号和密码实现登录（超过三次不能正确输入密码的用户封锁账号）
* 终端平台
   APP、PC终端浏览器
* 面向用户  
  机构临床医生、签约阅片医生
* 需求描述  
  用户输入相匹配的账号和密码才能够进入平台，对于账号或密码有错误的，系统拒绝用户进入，同时反馈错误信息"账号或密码错误,请重新输入"。通过图形验证来阻止机器人恶意登录，在用户输入密码的时候系统默认是"不可视"，用户可以将其调整为可视。对于忘记账号的密码医生用户可以通过找回密码功能重置密码。参考1.6找回密码功能。 （（超过三次不能正确输入密码的，封锁用户账号，暂停登录功能）
  
  
### 1.5 管理后台登录

* 功能描述    

  平台管理人员（平台运营人员）输入正确的密码账号进行平台后台维护平台正常运行，输入不相匹配的账号和密码不能进入系统。
* 终端平台形式  
  
  PC端平台官网（https://boss.easynm.cn）
* 面向用户  
  平台运营人员、平台管理人员
* 需求描述   
  用户输入相匹配的账号和密码才能够进入平台，对于账号或密码有错误的，系统拒绝用户进入，同时反馈错误信息"账号或密码错误,请重新输入"。该登录平台面向管理人员和运营人员，其他账户不能登录。通过图形验证来阻止机器人恶意登录，在用户输入密码的时候系统默认是"不可视"，用户可以将其调整为可视。对于忘记账号的密码管理员可以通过找回密码功能重置密码。参考1.6找回密码功能。  （超过三次不能正确输入密码的，封锁用户账号，暂停登录功能）

* 原型图  

  面向平台管理员和平台运营人员的登录模块，这个登录模块是不对外开放的，只有平台内部人员通过平台的管理的操作才能获得登录权限。只有这样严格权限限制才能保证平台运行的安全性。
需要用到的表格字段有：账号、密码、操作权限、ID编号、用户角色

### 1.6 找回密码  
* 功能描述    
  用户记得账号绑定的手机号、绑定手机号能够正常接收到信息但是忘记密码。通过填写手机账号、手机账号收到的验证码、新密码来完成对新密码的重置。密码重置之后返回注册页面。
   
* 终端平台形式  
  PC端平台官网、手机APP、微信小程序
* 面向用户  
  个人阅片用户、机构阅片用户、签约阅片医生、平台运营人员、平台管理人员
* 需求描述  
  用户填写手机账号或邮箱获取验证码、在验证码框输入验证码、下面设置图形验证。图形验证成功后，账号、邮箱与相对应的验证码相符合时候点击确定按钮跳转至第二步骤。如果图形验证码错误则提示"验证码错误，请重新验证"且页面不进行跳转。如果密码或账号错误，页面提示"账号或密码输入错误请重新输入"并且更新验证图形（重新验证图形）。第一个输入框提示"新的密码"（下面温馨提示密码位数8-16位、必须同时具备数字、字母、字符）、第二个输入框提示"再次输入新密码"。如两次输入的密码不一致，页面给出提示"两次输入的密码不一致"，用户点击确认设置后给出提示"请重新确认密码一致后再点击确认"。页面不进行跳转。当两次输入的密码一致，用户点击确认设置跳转至登录页面（具体参考登录模块）
  通过图形验证来阻止机器人恶意登录，
* 原型图
-------------------
## 2.注册  
### 2.1 手机号验证码注册  
* 功能描述  
  用户通过能够接受短信的手机号，实现注册
* 终端形式
  PC端平台官网（医生工作站终端、个人阅片终端）、手机APP（个人阅片终端）
  用户通过手机号验证码注册需要填写或设置四个字段：用户姓名、用户手机号、短信码、登录密码。  
* 面向用户  
  个人阅片用户、机构阅片用户、签约阅片医生
  
* 需求描述  
  为了实现手机验证码注册需要，用户在第一个输入框填写用户姓名、在第二个输入框填写用户密码（在输入框下面"温馨提示密码位数8-16位、必须同时具备数字、字母、字符"）、第三个输入框再次填写密码（在最右侧设置可视与不可视按钮，默认不可视。与第一个填写框密码不一致时提示"两次输入的密码不一致"，）、第四个输入框填写注册手机号（自动校验功能，手机号格式不正确自动提示"手机号格式不正确"），并且右侧设置发送验证码按钮，第五个输入框填写验证码，最下面设置图形验证码验证。设置勾选框，阅读并同意相关条款，否则不能注册。下面是高亮"注册"按钮。另外设置登录链接"已有账号？登录账号"转到登录页面。  
  登录页面涉及到的字段包括用户姓名、手机号、密码。  
  用户必须按照规定完成用户姓名、手机号、手机验证码、密码、再次填写密码、图形验证、条例勾选框的操作才能注册成功。注册成功后页面提示注册成功，四秒后自动跳转至登录页面。  
  每次失败注册后图形验证码失效并且自动刷新验证码，  
  在任何信息没有填写完备的情况下点及注册按钮，页面显示"注册失败，注册信息不完成、请重新填写"  
  用户填写失效过的注册码（其他信息符合要求）并且点击注册时，平台提示"注册失败、验证码失效"。  



### 2.2 微信授权注册  
用户可以根据自己的注册场景点击微信授权注册


  
  
---------------------------
## 3.用户管理
### 3.1 个人资料  
根据平台和操作权限的要求，用户的基本资料是在注册时候必须要完成的如：登录账号、登录密码、手机号、（或绑定微信账号）
### 3.2 修改个人资料  
用户可以根据自己的需要修改自己在平台中的信息，这个场景用到的字段有：用户姓名、电子邮箱、昵称、头像、身份认证证件类型、证件号、性别、生日、身高、体重、国家、省份、城市、详细地址。另外还有三个字段只能有管理员修改的：角色、是否激活、是否为员工。

### 3.3 修改密码  
---------------------------------
## 4.后台用户管理  
 * 面向用户：平台运营人员、平台管理人员
### 4.1 用户列表  
* 功能描述    
平台运营人员（包括管理）能够查看平台中的所有用户的列表信息，


* 终端平台形式  
  PC端官网平台、手机APP
* 面向用户  
  平台管理人员、平台运营人员
* 需求描述  
  用户可以查看平台中所有用户列表信息。在最上栏设置模糊查询，帮助查询相匹配的用户。模糊查询条件是关键词、角色、状态、注册开始时间、注册结束时间。在最右侧设置"重置"、"查询"按钮，且"查询"按钮高亮。
  模糊查询栏下方设定用户列表，同一高度设定"新增用户"（点击后跳转至新增用户模块）、"刷新"（点击后刷新列表数据）、"密度调整"（控制每行的高度）、"列展示"（决定所展示的列数据）按钮。列表内容的表头数据是有"列展示"按钮决定的。默认状态是全部显示的，显示的字段有：头像、昵称、姓名、手机号（设置可复制按钮）、邮箱（设置可复制按钮）、性别、角色、状态。另外设置操作按钮（包括详情、修改）。用户点击详情操作后跳转至目标账户的全部信息页面。点击操作中的修改后即跳转至修改资料模块，具体可参考4.3修改用户资料模块 
  在页面最下方显示所在页，页面所展现第几条用户信息至第几条用户信息，可以设置每页展示用户条数
  <font color = red >平台运营人员对于数据的统计，饼状图包括平台中各类用户角色的数量</font>
* 原型图

### 4.2新增用户    
* 功能描述    

  平台管理员知晓用户的姓名、手机号、角色的情况下新增用户，并且富于用户权限、决定用户账号是否激活。 
* 终端平台形式  
  
  PC端平台官网、手机APP、微信小程序
* 面向用户：平台管理人员
* 需求描述  
  平台管理员新建用户账号并填写用户信息
  对于用户字段信息要求：姓名（必填字段）、手机号（必填字段）、密码（必填字段）、角色（必填字段）、是否激活（必填字段）、是否为员工（必填字段）、电子邮箱（非必填字段）、昵称（非必填字段）、头像（非必填字段）  
  该页面能够被平台运营人员看到，但是运营人员不能操作
* 原型图  

### 4.3修改用户资料
* 功能描述    
  根据需要修改用户资料内容
  涉及到的字段有姓名、手机号、密码、电子邮箱、昵称、 头像、证件类型、证件号、性别、生日、身高、体重、国家、省份、城市、详细地址、语言、角色、是否激活、是否为员工
* 终端平台形式  
  PC端平台官网、手机APP
* 面向用户  
  平台管理人员
* 需求描述  
  平台管理人员为了维护平台的正常运行、以及合理的管理用户信息、能够修改用户资料。该页面能够被平台运营人员看到，但是不能修改数据。

* 原型图  